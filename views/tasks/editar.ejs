<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Editar Serviço - Gestor de Serviços</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  </head>
  <body class="bg-gray-900 text-white">
    <div class="min-h-screen flex flex-col justify-center items-center px-4 py-8">
      <div class="flex items-center mb-6 w-full max-w-md">
        <a href="/tasks" class="text-white">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </a>
        <h2 class="text-xl font-bold text-white ml-4">Editar Serviço</h2>
      </div>

      <div class="bg-gray-800 rounded-2xl shadow-2xl p-8 w-full max-w-md">
        <form action="/tasks/edit/<%= task.id %>" method="POST" class="flex flex-col gap-4">
          
          <label for="client_id" class="font-semibold text-teal-300">Selecione um Cliente*</label>
          <select
            name="client_id"
            required
            class="bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500"
          >
            <% clients.forEach(function(client) { %>
              <option value="<%= client.id %>" <%= task.client_id == client.id ? 'selected' : '' %>>
                <%= client.name %>
              </option>
            <% }) %>
          </select>

          <label for="serviceName" class="font-semibold text-teal-300">Nome do Serviço*</label>
          <input
            type="text"
            name="serviceName"
            value="<%= task.serviceName %>"
            placeholder="Nome do Serviço*"
            required
            class="bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500 placeholder-gray-500"
          />

          <label for="hourlyRate" class="font-semibold text-teal-300">Valor da Hora (R$)*</label>
          <input
            type="number"
            step="0.01"
            name="hourlyRate"
            value="<%= task.hourlyRate %>"
            placeholder="Valor da Hora (R$)*"
            required
            class="bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500 placeholder-gray-500"
          />

          <label for="location" class="font-semibold text-teal-300">Endereço / Localidade</label>
          <input
            type="text"
            name="location"
            value="<%= task.location || '' %>"
            placeholder="Endereço / Localidade"
            class="bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-3 focus:outline-none focus:ring-2 focus:ring-teal-500 placeholder-gray-500"
          />

          <button
            type="submit"
            class="w-full bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 rounded-lg transition duration-200 border-2 border-teal-400 flex items-center justify-center gap-2"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
            </svg>
            SALVAR SERVIÇO
          </button>
        </form>

        <a href="/tasks" class="mt-4 text-teal-400 hover:underline text-sm text-center font-medium block">
          Voltar para Serviços
        </a>
        <a href="/dashboard" class="mt-2 text-gray-400 hover:underline text-sm text-center font-medium block">
          Voltar ao Painel
        </a>
      </div>
    </div>
  </body>
</html>
